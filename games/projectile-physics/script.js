const angleInput=document.getElementById('angle'),velInput=document.getElementById('vel');
const cv=document.getElementById('cv'),ctx=cv.getContext('2d'),msg=document.getElementById('msg');const g=9.8,scale=4;let t=0,shot=null,target={x:700,y:330,r:20};
function draw(){ctx.clearRect(0,0,cv.width,cv.height);ctx.fillStyle='#1f2937';ctx.fillRect(0,350,900,50);ctx.fillStyle='#ef4444';ctx.beginPath();ctx.arc(target.x,target.y,target.r,0,Math.PI*2);ctx.fill();if(shot){ctx.strokeStyle='#60a5fa';ctx.beginPath();shot.path.forEach((p,i)=>i?ctx.lineTo(p.x,p.y):ctx.moveTo(p.x,p.y));ctx.stroke();ctx.fillStyle='#22c55e';ctx.beginPath();ctx.arc(shot.x,shot.y,6,0,Math.PI*2);ctx.fill();}}
function step(){if(!shot)return; t+=1/60;const x=40+shot.vx*t*scale,y=340-(shot.vy*t-0.5*g*t*t)*scale;shot.x=x;shot.y=y;shot.path.push({x,y});if(Math.hypot(x-target.x,y-target.y)<=target.r+6){msg.textContent='ðŸŽ¯ Target hit!';shot=null;return;}if(y>350||x>900){msg.textContent='Missed. Adjust angle/velocity.';shot=null;return;}draw();requestAnimationFrame(step);} 
document.getElementById('fire').onclick=()=>{const a=+angleInput.value*Math.PI/180,v=+velInput.value;shot={vx:v*Math.cos(a),vy:v*Math.sin(a),x:40,y:340,path:[{x:40,y:340}]};t=0;msg.textContent='Projectile launched...';draw();requestAnimationFrame(step);};draw();